<!DOCTYPE html>
<html>
<head lang="zh">
    <meta charset="UTF-8">
    <title>Daily Tag</title>

    <!-- Lib: normalize -->
    <link rel="stylesheet" href="libs/normalize/normalize.css"/>
    <!-- Lib: bootstrap -->
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="libs/bootstrap/css/bootstrap-theme.min.css"/>
    <!-- -->
    <style>
        * {font-family: "Microsoft YaHei"}
        body {padding-top: 60px;}
    </style>
</head>
<body>

    <div class="container">
        <div class="col-lg-3 col-lg-offset-2 col-md-3 col-md-offset-2 col-sm-5 col-sm-offset-1 col-xs-7">
            <h3 class="text-center"><span class="label label-info">Daily Tag</span></h3>
        </div>
    </div>

    <div class="container">
        <div class="col-lg-7 col-md-7 col-sm-7 col-xs-7" id="id-month-panel">
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
            <div class="col-lg-1 col-md-1 col-sm-1 col-xs-1"></div>
        </div>
    </div>

    <!-- Lib: jquery scripts -->
    <script src="libs/jquery/jquery.min.js"></script>
    <!-- Lib: bootstrap scripts -->
    <script src="libs/bootstrap/js/bootstrap.min.js"></script>
    <!-- -->
    <script>
        (function () {

            "use strict";

            function is_in_list(list, value) {
                for (var idx in list) {
                    if (value === list[idx])
                        return true;
                }
                return false;
            }

            function mapper_month_to_days(year, month) {
                var month_for_human = month + 1;
                var days_31 = [1,3,5,7,8,10,12];
                var days_30 = [4,6,9,11];
                if (month_for_human === 2) {
                    return year % 4 === 0 || year % 400 === 0 ? 29 : 28;
                }
                else if (is_in_list(days_30, month_for_human)) {
                    return 30;
                }
                else if (is_in_list(days_31, month_for_human)) {
                    return 31;
                }
            }

            var today = new Date();
            var curr_year = today.getFullYear();
            var curr_month = today.getMonth();  // 0-11
            var curr_day = today.getDay();  // 0-6
            var day_list = new Array();
            for (var idx=0; idx<curr_day; day_list.push({}), ++idx);
            var curr_month_days = mapper_month_to_days(curr_year, curr_month);
            for (var idx=1; idx<=curr_month_days; ++idx) {
                day_list.push(new Date(curr_year, curr_month, idx));
            }
            console.log(day_list.length);
        })();
    </script>
</body>
</html>